\doxysection{book.\+php}
\hypertarget{book_8php_source}{}\label{book_8php_source}\index{models/book.php@{models/book.php}}
\mbox{\hyperlink{book_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00016}\mbox{\hyperlink{classbook}{00016}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbook}{book}}}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00017}00017\ \{}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00026}\mbox{\hyperlink{classbook_ab4a65e29a73d3ed9d2f5f9e95ac3b91a}{00026}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classbook_ab4a65e29a73d3ed9d2f5f9e95ac3b91a}{is\_available}}(\$book\_id)}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00027}00027\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00028}00028\ \ \ \ \ \ \ \ \ global\ \mbox{\hyperlink{database_8php_aa8a5a87b9c1a6a0819b88447cbe41877}{\$conn}};}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{comment}{//SQL\ Query\ to\ retrieve\ available\ copies\ database}}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00031}00031\ \ \ \ \ \ \ \ \ \$query\ =\ \textcolor{stringliteral}{"{}SELECT\ available\_copies\ FROM\ books\ WHERE\ book\_id\ =\ ?"{}};}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00033}00033\ \ \ \ \ \ \ \ \ \$stmt\ =\ \mbox{\hyperlink{database_8php_aa8a5a87b9c1a6a0819b88447cbe41877}{\$conn}}-\/>prepare(\$query);}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ \$stmt-\/>bind\_param(\textcolor{stringliteral}{"{}i"{}},\ \$book\_id);}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Execute\ the\ SQL\ query.}}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00038}00038\ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00040}00040\ \ \ \ \ \ \ \ \ \$result\ =\ \$stmt-\/>get\_result();}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00042}00042\ \ \ \ \ \ \ \ \ \$row\ =\ \$result-\/>fetch\_assoc();}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ true\ if\ the\ book\ is\ available\ }}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$row\ \&\&\ \$row[\textcolor{stringliteral}{'available\_copies'}]\ >\ 0;}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00046}00046\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00055}\mbox{\hyperlink{classbook_ab6230835f0749b1e68190a8f6ab0b9a2}{00055}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{classbook_ab6230835f0749b1e68190a8f6ab0b9a2}{decrement\_copies}}(\$book\_id)}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00056}00056\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00057}00057\ \ \ \ \ \ \ \ \ global\ \mbox{\hyperlink{database_8php_aa8a5a87b9c1a6a0819b88447cbe41877}{\$conn}};}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00059}00059\ \ \ \ \ \ \ \ \ \textcolor{comment}{//sql\ query\ for\ decrese\ the\ available\ copies\ in\ datbase}}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00060}00060\ \ \ \ \ \ \ \ \ \$query\ =\ \textcolor{stringliteral}{"{}UPDATE\ books\ SET\ available\_copies\ =\ available\_copies\ -\/\ 1\ WHERE\ book\_id\ =\ ?"{}};}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00062}00062\ \ \ \ \ \ \ \ \ \$stmt\ =\ \mbox{\hyperlink{database_8php_aa8a5a87b9c1a6a0819b88447cbe41877}{\$conn}}-\/>prepare(\$query);}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00064}00064\ \ \ \ \ \ \ \ \ \$stmt-\/>bind\_param(\textcolor{stringliteral}{"{}i"{}},\ \$book\_id);}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00066}00066\ \ \ \ \ \ \ \ \ \$stmt-\/>execute();}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{book_8php_source_l00068}00068\ \ \ \ \ \ \ \ \ \$stmt-\/>close();}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00069}00069\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{book_8php_source_l00070}00070\ \}}

\end{DoxyCode}
